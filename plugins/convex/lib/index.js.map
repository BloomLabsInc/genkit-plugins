{"version":3,"sources":["../src/index.ts"],"sourcesContent":["/**\n * Copyright 2024 The Fire Company\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { EmbedderArgument } from '@genkit-ai/ai/embedder';\n\nimport { genkitPlugin, PluginProvider } from '@genkit-ai/core';\nimport * as z from 'zod';\n\ninterface Params<EmbedderCustomOptions extends z.ZodTypeAny> {\n  indexName: string;\n  embedder: EmbedderArgument<EmbedderCustomOptions>;\n  embedderOptions?: z.infer<EmbedderCustomOptions>;\n}\n\nexport function convexVectorstore<EmbedderCustomOptions extends z.ZodTypeAny>(\n  params: Params<EmbedderCustomOptions>[]\n): PluginProvider {\n  const plugin = genkitPlugin(\n    'convexVectorstore',\n    async (params: Params<EmbedderCustomOptions>[]) => ({\n      // retrievers: params.map((p) => configureDevLocalRetriever(p)),\n    })\n  );\n  return plugin(params);\n}\n\nexport default convexVectorstore;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAkBA,kBAA6C;AAStC,SAAS,kBACd,QACgB;AAChB,QAAM,aAAS;AAAA,IACb;AAAA,IACA,CAAOA,YAAyC;AAAI;AAAA;AAAA,MAEpD;AAAA;AAAA,EACF;AACA,SAAO,OAAO,MAAM;AACtB;AAEA,IAAO,cAAQ;","names":["params"]}